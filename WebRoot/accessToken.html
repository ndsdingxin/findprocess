<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<div align="center">
    <h3>获取授权认证</h3>
    <div style="margin-top: 150px;">
        <a href="#" onclick="jumpTokenFunction();"><button style='cursor:pointer;color:red;width=50px;height:50px;'>授权成功，获取认证</button></a>
    </div>
</div>
</body>
<script type="text/javascript">

    /**
     * 获取授权码
     * */
    function jumpTokenFunction() {
    	var code = "";//获取auth_code（authorize.html）返回的code; 
        var taxNum = "";//获取auth_code（authorize.html）返回的taxnum; 
        var _url = "https://open.jss.com.cn/accessToken"; //获取token地址
        var client_id = "";  //创建应用后，分配给应用的appKey
        var client_secret = ""; //创建应用后，分配给应用的appSecret
        var grant_type = "authorization_code";   //授权类型，在本步骤中，此值为“authorization_code”
        var redirect_uri = "http://open.jss.com.cn/";   //回调地址，必传且不能为空

        var param = 'code=' + code + "&taxNum=" + taxNum + "&client_id=" + client_id + "&client_secret=" + client_secret + "&grant_type=" + grant_type + "&redirect_uri=" + redirect_uri;
        alert(param);
        //创建异步对象
        var xhr = new XMLHttpRequest();
        //设置请求的类型及url

        xhr.open('post', _url,true);
        // 需要设置请求报文
        xhr.setRequestHeader("Content-type","application/x-www-form-urlencoded");
        //发送请求
        xhr.send(param);
        xhr.onreadystatechange = function () {
            // 这步为判断服务器是否正确响应
            if (xhr.readyState == 4 && xhr.status == 200) {
                console.info(xhr.responseText);
            } else {
                console.info(xhr.responseText);
            }
        };
    };

    /**
     * 获取url 后缀参数
     * @param name
     * @returns {null}
     */
    function getQueryString(name) {
        var reg = new RegExp("(^|&)" + name + "=([^&]*)(&|$)", "i");
        var r = window.location.search.substr(1).match(reg);
        if (r != null) return unescape(r[2]); return null;
    };

</script>
</html>